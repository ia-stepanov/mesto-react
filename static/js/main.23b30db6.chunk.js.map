{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","headers","baseUrl","this","_headers","_baseUrl","res","ok","json","Promise","reject","status","statusText","requestUrl","fetch","then","_checkResponse","data","method","body","JSON","stringify","name","profile_name","about","profile_job","link","_id","cardId","avatar","avatar_link","authorization","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","title","onClick","onCardClick","type","onCardDelete","onCardLike","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","id","length","Footer","PopupWithForm","isOpen","onCloseClick","form","onSubmit","children","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","placeholder","minLength","maxLength","value","onChange","target","required","AddPlacePopup","setLink","EditAvatarPopup","ref","useRef","current","ImagePopup","App","isProfilePopupOpened","setIsProfilePopupOpened","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","handlePopupCloseClick","classList","contains","closeAllPopups","all","getUserInfo","getInitialCards","user","catch","err","console","error","handleEsc","key","document","addEventListener","removeEventListener","Provider","deleteCardLike","newCard","state","c","addCardLike","removeCard","items","filter","updateUserInfo","newUser","addNewCard","updateProfileAvatar","newAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.23b30db6.chunk.js","sourcesContent":["class Api {\n  constructor({ headers, baseUrl }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`${res.status} ${res.statusText}`);\n    }\n  }\n\n  getUserInfo() {\n    const requestUrl = this._baseUrl + '/users/me';\n    return fetch(requestUrl, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    const requestUrl = this._baseUrl + '/cards';\n    return fetch(requestUrl, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  updateUserInfo(data) {\n    const requestUrl = this._baseUrl + '/users/me';\n    return fetch(requestUrl, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.profile_name,\n        about: data.profile_job\n      })\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(data) {\n    const requestUrl = this._baseUrl + '/cards';\n    return fetch(requestUrl, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  removeCard(data) {\n    const requestUrl = this._baseUrl + `/cards/${data._id}`;\n    return fetch(requestUrl, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  addCardLike(cardId) {\n    const requestUrl = this._baseUrl + `/cards/likes/${cardId}`;\n    return fetch(requestUrl, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  deleteCardLike(cardId) {\n    const requestUrl = this._baseUrl + `/cards/likes/${cardId}`;\n    return fetch(requestUrl, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  updateProfileAvatar(data) {\n    const requestUrl = this._baseUrl + `/users/me/avatar`;\n    return fetch(requestUrl, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar_link\n      })\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-29',\n  headers: {\n    authorization: '9a15705e-c3d0-477e-8f81-f6228da5acbc',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\"/>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `element__btn-trash ${isOwn ? 'element__btn-trash_visible' : ''}`\r\n  );\r\n\r\n  const cardLikeButtonClassName = (\r\n    `element__btn-like ${isLiked ? 'element__btn-like_active' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return(\r\n    <figure className=\"element\">\r\n      <img className=\"element__image\" src={props.link} alt={props.name} title=\"Посмотреть в полном размере\" onClick={handleClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" title=\"Удалить\" onClick={handleDeleteClick}/>\r\n      <figcaption className=\"element__info\">\r\n        <h2 className=\"element__caption\">{props.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" title=\"Нравится\" onClick={handleLikeClick}/>\r\n          <p className=\"element__like-count\">{props.likes}</p>\r\n        </div>\r\n      </figcaption>\r\n    </figure>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__avatar-edit\" type=\"button\" title=\"Обновить аватар\" onClick={props.onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name}/>\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className=\"profile__btn-edit\" type=\"button\" title=\"Редактировать профиль\" onClick={props.onEditProfile}/>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__btn-add\" type=\"button\" title=\"Добавить новую фотографию\" onClick={props.onAddPlace}/>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card, id) => (\r\n            <Card\r\n              key={id}\r\n              card={card}\r\n              link={card.link}\r\n              name={card.name}\r\n              likes={card.likes.length}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">&copy; 2021. Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_form_${props.name} ${props.isOpen ? `popup_opened`: \"\"}`} onClick={props.onCloseClick}>\r\n      <div className=\"popup__container\">\r\n        <form className=\"popup__form\" name={props.form} onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button className=\"popup__btn-save\" type=\"submit\" title=\"Сохранить\">{props.buttonText}</button>\r\n        </form>\r\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onSubmit({\r\n      profile_name: name,\r\n      profile_job: description\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (props.isOpen) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [props.isOpen, currentUser]);\r\n\r\n  return(\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onCloseClick={props.onCloseClick}\r\n      onClose={props.onClose}\r\n      name={'edit'}\r\n      form={'profileData'}\r\n      title={'Редактировать профиль'}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input className=\"popup__input\" id=\"profile_name\" name=\"profile_name\" type=\"text\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" value={name} onChange={handleNameChange} required/>\r\n      <span className=\"popup__input-error\" id=\"profile_name-error\"/>\r\n      <input className=\"popup__input\" id=\"profile_description\" name=\"profile_description\" type=\"text\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange} required/>\r\n      <span className=\"popup__input-error\" id=\"profile_description-error\"/>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onSubmit({\r\n      name: name,\r\n      link: link\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (props.isOpen) {\r\n      setName('');\r\n      setLink('');\r\n    }\r\n  }, [props.isOpen]);\r\n\r\n  return(\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onCloseClick={props.onCloseClick}\r\n      onClose={props.onClose}\r\n      name={'add'}\r\n      form={'placeData'}\r\n      title={'Новое место'}\r\n      buttonText={'Создать'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input className=\"popup__input\" id=\"place_name\" name=\"name\" type=\"text\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleNameChange} required/>\r\n      <span className=\"popup__input-error\" id=\"place_name-error\"/>\r\n      <input className=\"popup__input\" id=\"place_link\" name=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" value={link} onChange={handleLinkChange} required/>\r\n      <span className=\"popup__input-error\" id=\"place_link-error\"/>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const ref = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onSubmit({\r\n      avatar_link: ref.current.value\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    ref.current.value = '';\r\n  }, [props.isOpen]);\r\n\r\n  return(\r\n    <PopupWithForm \r\n      isOpen={props.isOpen}\r\n      onCloseClick={props.onCloseClick}\r\n      onClose={props.onClose}\r\n      name={'avatar'}\r\n      form={'placeData'}\r\n      title={'Обновить аватар'}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input ref={ref} className=\"popup__input\" id=\"avatar_link\" name=\"avatar_link\" type=\"url\" placeholder=\"Ссылка на аватар\" required/>\r\n      <span className=\"popup__input-error\" id=\"avatar_link-error\"/>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_viewer\" ${props.card ? 'popup_opened' : ''}`} onClick={props.onCloseClick}>\r\n      <div className=\"popup__content\">\r\n        <img className=\"popup__image\" src={props.card ? props.card.link : ''} alt={props.card ? props.card.name : ''}/>\r\n        <h2 className=\"popup__description\">{props.card ? props.card.name : ''}</h2>\r\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import React, { useEffect } from \"react\";\nimport api from \"../utils/api\";\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isProfilePopupOpened, setIsProfilePopupOpened] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()]).then(([user, cards]) => {\n      setCurrentUser(user);\n      setCards(cards);\n    }).catch((err) => {\n      console.error(err);\n    });\n  }, []);\n\n  function handleUpdateUser(data) {\n    api.updateUserInfo(data).then((newUser) => {\n      setCurrentUser(newUser);\n      closeAllPopups();\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  \n    if (!isLiked) {\n      api.addCardLike(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      }).catch((err) => {\n        console.error(err);\n      });\n    } else {\n      api.deleteCardLike(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      }).catch((err) => {\n        console.error(err);\n      });\n    }\n  }\n  \n  function handleAddPlaceSubmit(data) {\n    api.addNewCard(data).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card).then(() => {\n      setCards((items) => items.filter((c) => c._id !== card._id && c));\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n  \n  function handleAvatarUpdate(data) {\n    api.updateProfileAvatar(data).then((newAvatar) => {\n      setCurrentUser(newAvatar);\n      closeAllPopups();\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n  \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handlePopupCloseClick(evt) {\n    if (evt.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  function closeAllPopups() {\n    setIsProfilePopupOpened(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  useEffect(() => {\n    if (isProfilePopupOpened || isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard) {\n      function handleEsc(evt) {\n        if (evt.key === 'Escape') {\n          closeAllPopups();\n        }\n      }\n\n      document.addEventListener('keydown', handleEsc);\n\n      return () => {\n        document.removeEventListener('keydown', handleEsc);\n      }\n    }\n  }, [isProfilePopupOpened, isEditAvatarPopupOpen, isEditProfilePopupOpen, isAddPlacePopupOpen, selectedCard]);\n  \n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          <Header />\n          <Main \n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n          \n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleUpdateUser}\n          />\n          \n          <AddPlacePopup \n            isOpen={isAddPlacePopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleAddPlaceSubmit}\n          />\n          \n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleAvatarUpdate}\n          />\n\n          <ImagePopup\n            card={selectedCard}\n            onCloseClick={handlePopupCloseClick}\n            onClose={closeAllPopups}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}